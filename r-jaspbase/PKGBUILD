_cranname=jaspBase
_cranver=0.15
pkgname=r-${_cranname,,}
pkgver=${_cranver//[:-]/.}
pkgrel=1
pkgdesc="Package contains the JASP Bayesian and Frequentist analyses."
arch=('x86_64')
url="https://cran.r-project.org/package=${_cranname}"
license=('GPL2+')
depends=(r
'r-ggplot2'
'r-gridextra'
'r-gridgraphics'
'r-jsonlite'
'r-modules'
 'r-officer' 'r-pkgbuild'
'r-plyr' 'r-qgraph' 'r-ragg' 'r-r6' 'r-renv'
'r-rjson' 'r-rvg' 'r-svglite' 'r-systemfonts'
'r-withr' 'r-testthat'
'r-data.table' 'r-httr' 'r-lifecycle'
'r-pkgload' 'r-remotes' 'r-stringi' 'r-stringr'
'r-vdiffr'
)
groups=(r-jasp)
makedepends=()
optdepends=()
source=("git+https://github.com/jasp-stats/${_cranname}.git")
sha256sums=('SKIP')


build() {
  mkdir -p ${srcdir}/usr/lib/R/library
  R -e "install.packages('${srcdir}/${_cranname}',\
     type='source', repos=NULL,lib='${srcdir}/usr/lib/R/library', INSTALL_opts='--no-multiarch --no-docs --no-test-load')"
}

package() {

  cp -a --no-preserve=ownership "${srcdir}/usr" "${pkgdir}"
}
